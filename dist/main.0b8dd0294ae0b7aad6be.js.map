{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/app/services/DomElementUtil.js","webpack:///./src/app/components/UToggleButton.js","webpack:///./src/app/services/ApiRequester.js","webpack:///./src/app/services/ObjectUtil.js","webpack:///./src/index.js","webpack:///./src/app/controllers/tableController.js","webpack:///./src/app/components/USearchInput.js","webpack:///./src/app/components/URatingFilter.js","webpack:///./src/app/components/UDataDetail.js","webpack:///./src/app/services/CacheService.js","webpack:///./src/app/components/UModal.js","webpack:///./src/app/components/UTable.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","DomElementUtil","createElement","type","attributes","childNode","ret","document","keys","forEach","setAttribute","appendChild","require","element","changeCallback","this","_parentElement","_buttonElement","_changeCallback","_value","self","_init","class","active","createTextNode","text","toggleable","addEventListener","classes","getAttribute","includes","replace","render","getHtmlElement","CacheService","SERVICE_CACHE_KEYS","ApiRequester","getComments","filters","Promise","resolve","reject","cachedData","getInstance","getData","fetch","then","response","json","jsonResponse","setData","catch","JSON","parse","stringify","items","filter","item","ratingFilterValue","searchFilterValue","undefined","ratings","indexOf","rating","search","comment","toUpperCase","getCats","size","ObjectUtil","PathNotFoundException","getValue","obj","path","pathSplit","split","assign","init","querySelector","USearchInput","URatingFilter","UDataDetail","UToggleButton","UModal","UTable","_searchInput","_ratingFilter","_table","_filters","_idLastRequest","TABLE_OPTIONS","columns","title","getCustomTemplate","rowData","field","browser","computed_browser","Browser","version","Version","onRowClick","event","statusHtml","status","starHtml","starred","content","open","onRenderCallback","RATING_FILTER_CONFIG","tableWrapperElement","ratingsFilterWrapper","searchBarWrapperElement","_onSearchInputChange","getFilter","_onRatingFilterChange","_updateTable","val","console","debug","vals","idRequest","Date","getTime","resp","updateData","searchCallback","_inputElement","_searchCallback","configValues","_ratingBtns","_values","tmpElem","_onRatingChange","push","map","initializeMap","lon","lat","log","OpenLayers","Map","addLayer","Layer","OSM","layer_switcher","Control","LayerSwitcher","addControl","lonLat","LonLat","transform","Projection","getProjectionObject","setCenter","commentData","_rootElement","_commentData","labels","label","tags","tag","isPositive","getTagsElement","customSubject","creation_date","toLocaleDateString","url","siteButton","target","href","innerHTML","email","emailButton","getCommentInfoSectionElement","id","contentCenter","geo","city","src","country","getLocationSectionElement","FullBrowser","Platform","screen","width","height","getBrowserInfoSectionElement","grid","row","firstCol","secondCol","images","length","cats","cat","index","cell","imageKey","scrollView","getImagesSectionElement","cacheMap","data","toInsert","_typeof","CacheServiceSingleton","instance","titleHtml","contentElement","_contentElement","_titleHtml","_overlayElement","_modalWrapperElement","_modalElement","eventFunctionOnEsc","close","setTimeout","remove","removeEventListener","modalHeaderElement","closeButtonElement","modalBodyElement","tableOptions","_tableElement","_headerElement","_data","_tableOptions","_renderHeader","column","columnElement","insertBefore","firstChild","_renderBody","querySelectorAll","node","child","cellContentWrapperElement","newData"],"mappings":"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","file":"main.0b8dd0294ae0b7aad6be.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","var DomElementUtil = function () {\n};\n\n/*This will return an element of type , attributes and child node specified. Only the first arg is required*/\nDomElementUtil.createElement = function (type, attributes, childNode) {\n    var ret = document.createElement(type);\n    if (attributes) {\n        Object.keys(attributes).forEach(function (key) {\n            ret.setAttribute(key, attributes[key]);\n        });\n    }\n    if (childNode) {\n        ret.appendChild(childNode);\n    }\n    return ret;\n};\n\nmodule.exports = DomElementUtil;\n","var DomElementUtil = require(\"../services/DomElementUtil\");\n\n/*This component is an toggleable button that will nofity back the change.*/\nfunction UToggleButton(element, value, changeCallback) {\n    //the parent dom element of the button (where will be contained)\n    this._parentElement = element;\n    //button dom element\n    this._buttonElement = null;\n    //the callback for the change events\n    this._changeCallback = changeCallback;\n    //the button configuration.\n    this._value = value; //{value:any, text: string, active:boolean, toggleable:boolean}\n    var self = this;\n\n    this._init = function () {\n        this._buttonElement = DomElementUtil.createElement(\"div\", {class: \"u-circle\" + (this._value.active ? \" active\" : \"\")});\n        this._buttonElement.appendChild(document.createTextNode(this._value.text));\n        //if the button will be togglable I set the event to change the component values\n        if (this._value.toggleable) {\n            this._buttonElement.setAttribute(\"role\", \"button\");\n            this._buttonElement.setAttribute(\"aria-pressed\", this._value.active);\n            this._buttonElement.addEventListener(\"click\", function () {\n                self._value.active = !self._value.active;\n                this.setAttribute(\"aria-pressed\", self._value.active);\n                var classes = this.getAttribute(\"class\");\n                if (!classes.includes(\"active\") && self._value.value) {\n                    classes += \" active\"\n                } else {\n                    classes = classes.replace(\" active\", \"\");\n                }\n                this.setAttribute(\"class\", classes);\n                if (self._changeCallback) {\n                    self._changeCallback(self._value);\n                }\n            });\n        }\n    };\n\n    this.render = function () {\n        if (this._parentElement) {\n            this._parentElement.appendChild(this._buttonElement);\n        }\n    };\n\n    this.getHtmlElement = function () {\n        return self._buttonElement;\n    };\n\n    this._init();\n}\n\nmodule.exports = UToggleButton;\n","var CacheService = require(\"./CacheService\");\nvar SERVICE_CACHE_KEYS = {\n    getComments: \"GET_COMMENTS\"\n};\n\nfunction ApiRequester() {\n}\n\n/*\n* this method will fetch all the comments from a file and will cache the response to reuse it later\n* This one will filter the list by a comment string or a list of ratings\n* in: { search: string , ratings: int[] }\n* */\nApiRequester.getComments = function (filters) {\n    return new Promise(function (resolve, reject) {\n        var cachedData = CacheService.getInstance().getData(SERVICE_CACHE_KEYS.getComments);\n        var promise = null;\n        if (cachedData) {\n            promise = new Promise(function (resolve) {\n                resolve(cachedData);\n            });\n        } else {\n            //TODO: CORS problems with https://static.usabilla.com/recruitment/apidemo.json\n            promise = fetch('/src/assets/apidemo.json')\n                .then(function (response) {\n                    return new Promise(function (resolve, reject) {\n                        response.json().then(function (jsonResponse) {\n                            CacheService.getInstance().setData(SERVICE_CACHE_KEYS.getComments, jsonResponse);\n                            resolve(new Promise(function (resolve) {\n                                resolve(jsonResponse);\n                            }));\n                        }).catch(reject)\n                    });\n                });\n        }\n        promise.then(function (jsonResponse) {\n            var ret = JSON.parse(JSON.stringify(jsonResponse));\n            if (filters) {\n                ret.items = ret.items.filter(function (item) {\n                    var ratingFilterValue = true, searchFilterValue = true;\n                    if (filters.ratings !== undefined) {\n                        ratingFilterValue = filters.ratings.indexOf(item.rating) !== -1;\n                    }\n                    if (filters.search !== undefined) {\n                        searchFilterValue = item.comment.toUpperCase().includes(filters.search.toUpperCase());\n                    }\n                    return ratingFilterValue && searchFilterValue;\n                });\n            }\n            return ret;\n        }).then(resolve).catch(reject);\n    });\n};\n\n/*this methods return a random list of @par(size) cats images*/\nApiRequester.getCats = function (size) {\n    return fetch('https://api.thecatapi.com/v1/images/search?limit=' + size).then(function (response) {\n        return response.json();\n    });\n};\n\nmodule.exports = ApiRequester;\n","/*This is an object like lodash */\n\nvar ObjectUtil = function () {\n};\n\nvar PathNotFoundException = function () {\n};\n\n/*This method accept an object and a dotted path and will return the value at the specified path*/\nObjectUtil.getValue = function (obj, path) {\n    var pathSplit = path.split(\".\");\n    var ret = Object.assign({}, obj);\n    try {\n        pathSplit.forEach(function (path) {\n            if (!ret.hasOwnProperty(path)) {\n                throw new PathNotFoundException();\n            }\n            ret = ret[path];\n        });\n    } catch (PathNotFoundException) {\n        return null;\n    }\n    return ret;\n};\n\nmodule.exports = ObjectUtil;\n","'use strict';\nrequire('./styles/index.scss');\nvar TableController = require('./app/controllers/tableController.js');\n\nvar controller = new TableController();\ncontroller.init(document.querySelector(\".u-table-wrapper\"), document.querySelector(\".u-ratings-wrapper\"), document.querySelector(\".u-search-bar-wrapper\"));\n","var USearchInput = require(\"../components/USearchInput\");\nvar URatingFilter = require(\"../components/URatingFilter\");\nvar UDataDetail = require(\"../components/UDataDetail\");\nvar UToggleButton = require(\"../components/UToggleButton\");\nvar UModal = require(\"../components/UModal\");\nvar UTable = require(\"../components/UTable\");\nvar ApiRequester = require(\"../services/ApiRequester\");\n\n/*This controller will controll all the table logics. For example the filters interactions, the row detail user request and the table updates*/\nfunction TableController() {\n    //the search filter component\n    this._searchInput = null;\n    //the rating filter component\n    this._ratingFilter = null;\n    //the table component\n    this._table = null;\n    //the table filters values\n    this._filters = {search: \"\", ratings: []};\n    //this an id to save the last request done (prevent async request bugs)\n    this._idLastRequest = null;\n    //this is the table configuration to pass to the uTable component\n    var TABLE_OPTIONS = {\n        columns: [\n            {\n                title: \"Rating\",\n                getCustomTemplate: function (rowData) {\n                    var button = new UToggleButton(null, {text: rowData.rating, active: true, toggleable: false});\n                    return button.getHtmlElement();\n                }\n            }, {\n                title: \"Comment\",\n                field: \"comment\"\n            }, {\n                title: \"Browser\",\n                getCustomTemplate: function (rowData) {\n                    var ret = document.createElement(\"div\");\n                    var browser = document.createElement(\"div\");\n                    browser.appendChild(document.createTextNode(rowData.computed_browser.Browser));\n                    var version = document.createElement(\"div\");\n                    version.setAttribute(\"class\", \"secondary-text\");\n                    version.appendChild(document.createTextNode(rowData.computed_browser.Version));\n                    ret.appendChild(browser);\n                    ret.appendChild(version);\n                    return ret;\n                }\n            }, {\n                title: \"Device\",\n                field: \"computed_browser.Platform\"\n            }, {\n                title: \"Platform\",\n                field: \"computed_browser.Platform\"\n            }\n        ],\n        onRowClick: function (rowData, event) {\n            var statusString = rowData.status === \"new\" ? \"You have never seen this comment\" : \"You have already read this comment\";\n            var statusHtml = \"<h6> (\" + statusString + \")</h6>\";\n            var starHtml = rowData.starred ? \"<span class='svg-icon-wrapper star'></span>\" : \"\";\n            var content = new UDataDetail(rowData);\n            var modal = new UModal(\"Comment details \" + starHtml + statusHtml, content.getHtmlElement());\n            modal.open();\n            content.onRenderCallback();\n        }\n    };\n    var RATING_FILTER_CONFIG = [\n        {value: 1, active: true, text: \"1\", toggleable: true},\n        {value: 2, active: true, text: \"2\", toggleable: true},\n        {value: 3, active: true, text: \"3\", toggleable: true},\n        {value: 4, active: true, text: \"4\", toggleable: true},\n        {value: 5, active: true, text: \"5\", toggleable: true}\n    ];\n\n    var self = this;\n\n    this.init = function (tableWrapperElement, ratingsFilterWrapper, searchBarWrapperElement) {\n        this._searchInput = new USearchInput(searchBarWrapperElement, this._onSearchInputChange);\n        this._searchInput.render();\n        this._filters.search = this._searchInput.getFilter();\n        this._ratingFilter = new URatingFilter(ratingsFilterWrapper, RATING_FILTER_CONFIG, this._onRatingFilterChange);\n        this._ratingFilter.render();\n        this._filters.ratings = this._ratingFilter.getFilter();\n        this._table = new UTable(tableWrapperElement, TABLE_OPTIONS);\n        this._table.render();\n        this._updateTable();\n    };\n\n    /*when the search filter will change I need to update the local filter values and update the table values */\n    this._onSearchInputChange = function (val) {\n        console.debug(\"Changed search\", val);\n        self._filters.search = val;\n        self._updateTable();\n    };\n\n    /*when the rating filter will change I need to update the local filter values and update the table values */\n    this._onRatingFilterChange = function (vals) {\n        console.debug(\"Changed filter\", vals);\n        self._filters.ratings = vals;\n        self._updateTable();\n    };\n\n    /*To update the table I need to request the new filtered data and I will send them to the the table component*/\n    this._updateTable = function () {\n        var idRequest = new Date().getTime();\n        self._idLastRequest = idRequest;\n        ApiRequester.getComments(this._filters).then(function (resp) {\n            //with an asynchronous request this will ensure that the response used match with the last request done\n            if (idRequest === self._idLastRequest) {\n                console.debug(\"updated table data\", resp);\n                self._table.updateData(resp.items);\n            }\n        });\n    }\n}\n\nmodule.exports = TableController;\n","var DomElementUtil = require(\"../services/DomElementUtil\");\n\n/*This component is a search filter that will nofity back the change.*/\nfunction USearchInput(element, searchCallback) {\n    //the parent dom element of the filter (where will be contained)\n    this._parentElement = element;\n    //input dom element\n    this._inputElement = null;\n    //the callback for the change events\n    this._searchCallback = searchCallback;\n    this.value = \"\";\n    var self = this;\n\n    this.render = function () {\n        this._inputElement = DomElementUtil.createElement(\"input\", {class: \"u-search-bar\"});\n        this._inputElement.setAttribute(\"placeholder\", \"Search here...\");\n        this._inputElement.setAttribute(\"type\", \"text\");\n        this._inputElement.addEventListener(\"keyup\", function () {\n            self.value = this.value;\n            self._searchCallback(self.getFilter());\n        });\n        this._parentElement.appendChild(this._inputElement);\n    };\n\n    this.getFilter = function () {\n        return self.value;\n    };\n}\n\nmodule.exports = USearchInput;\n","var UToggleButton = require(\"./UToggleButton\");\n\n//this is the rating filter. Its composed by n UToggleButton\nfunction URatingFilter(element, configValues, changeCallback) {\n    this._parentElement = element;\n    this._ratingBtns = [];\n    this._changeCallback = changeCallback;\n    this._values = configValues; //[{value: any, active: boolean, text: string, toggleable: boolean}]\n    var self = this;\n\n    this.render = function () {\n        this._values.forEach(function (value) {\n            var tmpElem = new UToggleButton(self._parentElement, value, self._onRatingChange);\n            self._ratingBtns.push(tmpElem);\n            tmpElem.render();\n        });\n    };\n\n    this.getFilter = function () {\n        return self._values.filter(function (value) {\n            return value.active;\n        }).map(function (value) {\n            return value.value;\n        });\n    };\n\n    this._onRatingChange = function (value) {\n        self._values[value.value - 1] = value;\n        self._changeCallback(self.getFilter());\n    };\n}\n\nmodule.exports = URatingFilter;\n","var DomElementUtil = require(\"../services/DomElementUtil\");\nvar ApiRequester = require(\"../services/ApiRequester\");\nvar ObjectUtil = require(\"../services/ObjectUtil\");\n\nfunction initializeMap(lon, lat) {\n    console.log(lon, lat);\n    var map = new OpenLayers.Map(\"map\");\n    map.addLayer(new OpenLayers.Layer.OSM());\n    // create layer switcher widget in top right corner of map.\n    var layer_switcher = new OpenLayers.Control.LayerSwitcher({});\n    map.addControl(layer_switcher);\n    //Set start centrepoint and zoom\n    var lonLat = new OpenLayers.LonLat(lon, lat)\n        .transform(\n            new OpenLayers.Projection(\"EPSG:4326\"), // transform from WGS 1984\n            map.getProjectionObject() // to Spherical Mercator Projection\n        );\n    var zoom = 15;\n    map.setCenter(lonLat, zoom);\n};\n\n//this is the component that will create the comment detail\nfunction UDataDetail(commentData) {\n    this._rootElement = null;\n    this._commentData = commentData;\n    var self = this;\n\n    function getLabelsElement(commentData) {\n        var ret = DomElementUtil.createElement(\"div\", {\"class\": \"labels-wrapper\"});\n        if (commentData.labels) {\n            commentData.labels.forEach(function (label) {\n                ret.appendChild(DomElementUtil.createElement(\"div\", {\"class\": \"label\"}, document.createTextNode(label)));\n            });\n        }\n        return ret;\n    }\n\n    function getTagsElement(commentData) {\n        var ret = DomElementUtil.createElement(\"div\");\n        commentData.tags.forEach(function (tag) {\n            var isPositive = [\"attractive\", \"usable\", \"interesting\"].indexOf(tag) !== -1;\n            ret.appendChild(DomElementUtil.createElement(\"div\", {\"class\": \"tag to-right\" + (isPositive ? \" positive\" : \" negative\")}, document.createTextNode(tag)));\n        });\n        ret.appendChild(DomElementUtil.createElement(\"div\", {\"class\": \"clear-float\"}));\n        return ret;\n    }\n\n    function getCommentInfoSectionElement(commentData) {\n        var ret = DomElementUtil.createElement(\"div\", {\"class\": \"section-primary\"});\n        var content = DomElementUtil.createElement(\"div\", {\"class\": \"section-content\"});\n        ret.appendChild(content);\n        var customSubject = ObjectUtil.getValue(commentData, \"custom.subject\");\n        var creationDate = (new Date(commentData.creation_date)).toLocaleDateString();\n        var title = (customSubject !== null ? customSubject + \" - \" : \"\") + creationDate;\n        content.appendChild(DomElementUtil.createElement(\"h3\", null, document.createTextNode(title)));\n        content.appendChild(DomElementUtil.createElement(\"p\", null, document.createTextNode(commentData.comment)));\n        if (commentData.url) {\n            var siteButton = DomElementUtil.createElement(\"a\", {\n                \"class\": \"action-button with-icon secondary to-right\",\n                \"target\": \"_blank\",\n                \"href\": commentData.url\n            });\n            siteButton.innerHTML = \"<svg width=\\\"24\\\" height=\\\"24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M14 4h-13v18h20v-11h1v12h-22v-20h14v1zm10 5h-1v-6.293l-11.646 11.647-.708-.708 11.647-11.646h-6.293v-1h8v8z\\\"/></svg>\";\n            siteButton.appendChild(document.createTextNode(\"Go to the site\"));\n            content.appendChild(siteButton);\n        }\n        if (commentData.email) {\n            var emailButton = DomElementUtil.createElement(\"a\", {\n                \"class\": \"action-button with-icon secondary to-right\",\n                \"href\": \"mailto:\" + commentData.email\n            });\n            emailButton.innerHTML = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M24 21h-24v-18h24v18zm-23-16.477v15.477h22v-15.477l-10.999 10-11.001-10zm21.089-.523h-20.176l10.088 9.171 10.088-9.171z\\\"/></svg>\";\n            emailButton.appendChild(document.createTextNode(\"Contact the user\"));\n            content.appendChild(emailButton);\n        }\n        content.appendChild(DomElementUtil.createElement(\"div\", {\"class\": \"clear-float\"}));\n        return ret;\n    }\n\n    function getLocationSectionElement(commentData) {\n        var ret = DomElementUtil.createElement(\"div\", {\"class\": \"background-section\"});\n        ret.appendChild(DomElementUtil.createElement(\"div\", {\n            \"id\": \"map\"\n        }));\n        var content = DomElementUtil.createElement(\"div\", {\"class\": \"background-section-content\"});\n        content.appendChild(DomElementUtil.createElement(\"h3\", null, document.createTextNode(\"Location\")));\n        var contentCenter = DomElementUtil.createElement(\"div\", {\"class\": \"center-content\"});\n        contentCenter.appendChild(DomElementUtil.createElement(\"h1\", null, document.createTextNode(commentData.geo.city ? commentData.geo.city : \"City not specified\")));\n        contentCenter.appendChild(DomElementUtil.createElement(\"img\", {\"src\": \"https://countryflags.io/\" + commentData.geo.country + \"/flat/64.png\"}));\n        content.appendChild(contentCenter);\n        ret.appendChild(content);\n        return ret;\n    }\n\n    function getBrowserInfoSectionElement(commentData) {\n        var ret = DomElementUtil.createElement(\"div\");\n        ret.appendChild(DomElementUtil.createElement(\"h3\", null, document.createTextNode(\"Browser & device info\")));\n        var content = DomElementUtil.createElement(\"div\", {\"class\": \"center-content\"});\n        ret.appendChild(content);\n        content.appendChild(DomElementUtil.createElement(\"h1\", null, document.createTextNode(commentData.computed_browser.FullBrowser)));\n        content.appendChild(DomElementUtil.createElement(\"h2\", null, document.createTextNode(\"for \" + commentData.computed_browser.Platform)));\n        content.appendChild(DomElementUtil.createElement(\"h4\", null, document.createTextNode(\"Version\" + commentData.computed_browser.Version)));\n        content.appendChild(DomElementUtil.createElement(\"h5\", null, document.createTextNode(commentData.screen.width + \"x\" + commentData.screen.height)));\n        return ret;\n    }\n\n    function getImagesSectionElement(commentData) {\n        var ret = DomElementUtil.createElement(\"div\", {\"class\": \"section-primary dark\"});\n        var content = DomElementUtil.createElement(\"div\", {\"class\": \"section-content\"});\n        ret.appendChild(content);\n        var grid = DomElementUtil.createElement(\"div\", {\"class\": \"image-grid\"});\n        content.appendChild(grid);\n        var row = DomElementUtil.createElement(\"div\", {\"class\": \"image-grid-row\"});\n        grid.appendChild(row);\n        var firstCol = DomElementUtil.createElement(\"div\", {\"class\": \"image-grid-column\"});\n        row.appendChild(firstCol);\n        var secondCol = DomElementUtil.createElement(\"div\", {\"class\": \"image-grid-column\"});\n        row.appendChild(secondCol);\n        ApiRequester.getCats(Object.keys(commentData.images).length).then(function (cats) {\n            cats.forEach(function (cat, index) {\n                var cell = DomElementUtil.createElement(\"div\", {\"class\": \"polaroid\"});\n                cell.appendChild(DomElementUtil.createElement(\"img\", {src: cat.url}));\n                var imageKey = Object.keys(commentData.images)[index];\n                cell.appendChild(DomElementUtil.createElement(\"div\", {\n                        \"class\": \"polaroid-title\"\n                    },\n                    document.createTextNode(imageKey)));\n                cell.appendChild(DomElementUtil.createElement(\"div\", {\n                        \"class\": \"polaroid-subtitle\"\n                    },\n                    document.createTextNode(commentData.images[imageKey].width + \"x\" + commentData.images[imageKey].height)));\n                var scrollView = DomElementUtil.createElement(\"div\", {\"class\": \"scrolling-view\"}, DomElementUtil.createElement(\"a\", {\n                    \"target\": \"_blank\",\n                    \"href\": commentData.images[imageKey].url\n                }, DomElementUtil.createElement(\"span\", null, document.createTextNode(\"view\"))));\n                cell.appendChild(scrollView);\n                cell.addEventListener(\"mouseover\", function () {\n                    scrollView.setAttribute(\"class\", scrollView.getAttribute(\"class\").replace(/\\sactive/, \"\") + \" active\")\n                });\n                cell.addEventListener(\"mouseleave\", function () {\n                    scrollView.setAttribute(\"class\", scrollView.getAttribute(\"class\").replace(/\\sactive/, \"\"))\n                });\n                if (index % 2) {\n                    firstCol.appendChild(cell);\n                } else {\n                    secondCol.appendChild(cell);\n                }\n            });\n        });\n        return ret;\n    }\n\n    this._init = function () {\n        console.log(this._commentData);\n        this._rootElement = DomElementUtil.createElement(\"div\"); // TODO check the tags\n        this._rootElement.appendChild(getLabelsElement(this._commentData));\n        this._rootElement.appendChild(getTagsElement(this._commentData));\n        this._rootElement.appendChild(getCommentInfoSectionElement(this._commentData));\n        this._rootElement.appendChild(getLocationSectionElement(this._commentData));\n        this._rootElement.appendChild(getBrowserInfoSectionElement(this._commentData));\n        this._rootElement.appendChild(getImagesSectionElement(this._commentData));\n    };\n\n    //This return the comment detail dom element\n    this.getHtmlElement = function () {\n        return self._rootElement;\n    };\n\n    /*On render callback I need to initialize the OL map*/\n    this.onRenderCallback = function () {\n        if (self._commentData.geo && self._commentData.geo.lon !== null && self._commentData.geo.lat !== null) {\n            initializeMap(self._commentData.geo.lon, self._commentData.geo.lat);\n        } else {\n            initializeMap(0, 0);\n        }\n    };\n\n    this._init();\n}\n\nmodule.exports = UDataDetail;\n","/*This is a singleton object that will manage a simple cache store*/\n\nfunction CacheService() {\n    this.cacheMap = {};\n\n    this.setData = function (key, data) {\n        var toInsert = data;\n        if (typeof toInsert === \"object\") {\n            toInsert = JSON.parse(JSON.stringify(toInsert));\n        }\n        this.cacheMap[key] = toInsert;\n    };\n\n    this.getData = function (key) {\n        return this.cacheMap[key];\n    };\n}\n\nvar CacheServiceSingleton = (function () {\n    var instance;\n\n    function createInstance() {\n        return new CacheService();\n    }\n\n    return {\n        getInstance: function () {\n            if (!instance) {\n                instance = createInstance();\n            }\n            return instance;\n        }\n    };\n})();\n\nmodule.exports = CacheServiceSingleton;\n","var DomElementUtil = require(\"../services/DomElementUtil\");\n\n/*This is a modal component*/\nfunction UModal(titleHtml, contentElement) {\n    //is the element to put in body of the modal\n    this._contentElement = contentElement;\n    //this is the HTML string in the header of the modal\n    this._titleHtml = titleHtml;\n    //the backdrop element\n    this._overlayElement = null;\n    //the wrapper element\n    this._modalWrapperElement = null;\n    //the modal dom element\n    this._modalElement = null;\n    var self = this;\n\n    //this will open the modal\n    this.open = function () {\n        document.querySelector(\"body\").appendChild(self._modalElement);\n        setTimeout(function () {//I'm waiting for the animation\n        self._modalWrapperElement.setAttribute(\"class\", self._modalWrapperElement.getAttribute(\"class\").replace(/\\sclosed/g, \"\"));\n        }, 10);\n    };\n\n    //this will close the modal\n    this.close = function () {\n        self._overlayElement.remove();\n        self._modalWrapperElement.setAttribute(\"class\", self._modalWrapperElement.getAttribute(\"class\")+ \" closed\");\n        document.removeEventListener(\"keyup\", eventFunctionOnEsc);\n        setTimeout(function () {//I'm waiting for the animation\n            self._modalElement.remove();\n        }, 300);\n    };\n\n    this._init = function () {\n        this._modalElement = DomElementUtil.createElement(\"div\", {class: \"u-modal-wrapper\"});\n        this._overlayElement = DomElementUtil.createElement(\"div\", {class: \"u-modal-backdrop\"});\n        this._modalElement.appendChild(this._overlayElement);\n        this._modalWrapperElement = DomElementUtil.createElement(\"div\", {class: \"u-modal closed\"});\n        var modalHeaderElement = DomElementUtil.createElement(\"div\", {class: \"u-modal-header\"});\n        modalHeaderElement.innerHTML = self._titleHtml;\n        var closeButtonElement = DomElementUtil.createElement(\"button\", {class: \"close\"});\n        closeButtonElement.appendChild(document.createTextNode(\"X\"));\n        modalHeaderElement.appendChild(closeButtonElement);\n        this._modalWrapperElement.appendChild(modalHeaderElement);\n        var modalBodyElement = DomElementUtil.createElement(\"div\", {class: \"u-modal-body\"});\n        if (this._contentElement) {\n            modalBodyElement.appendChild(this._contentElement);\n        }\n        this._modalWrapperElement.appendChild(modalBodyElement);\n        this._modalElement.appendChild(this._modalWrapperElement);\n\n        //setup the close events\n        this._overlayElement.addEventListener(\"click\", self.close.bind(this));\n        closeButtonElement.addEventListener(\"click\", self.close.bind(this));\n        document.addEventListener(\"keyup\", eventFunctionOnEsc);\n    };\n\n    function eventFunctionOnEsc(event) {\n        if (event.key === \"Escape\") {\n            self.close.call(this);\n        }\n    };\n\n    this._init();\n}\n\nmodule.exports = UModal;\n","var ObjectUtil = require(\"../services/ObjectUtil\");\nvar DomElementUtil = require(\"../services/DomElementUtil\");\n\nfunction UTable(element, tableOptions) {\n    //the parent dom element of the table (where will be contained)\n    this._parentElement = element;\n    //table dom element\n    this._tableElement = null;\n    //table header dom element\n    this._headerElement = null;\n    //the row values\n    this._data = [];\n    //the table's configuration object\n    this._tableOptions = tableOptions;\n    var self = this;\n\n    //this will create the table header\n    this._renderHeader = function () {\n        if (self._headerElement) {\n            self._headerElement.remove();\n        }\n        self._headerElement = document.createElement(\"div\");\n        self._headerElement.setAttribute(\"class\", \"u-table-row u-table-header\");\n        self._tableOptions.columns.forEach(function (column) {\n            var columnElement = document.createElement(\"div\");\n            columnElement.setAttribute(\"class\", \"u-table-cell\");\n            columnElement.appendChild(document.createTextNode(column.title));\n            self._headerElement.appendChild(columnElement);\n        });\n        this._tableElement.insertBefore(this._headerElement, this._tableElement.firstChild);\n    };\n\n    //this will create the table body\n    this._renderBody = function () {\n        self._tableElement.querySelectorAll(\".u-table-row.u-table-body\").forEach(function (node) {\n            node.remove();\n        });\n        self._data.forEach(function (data) {\n            var row = DomElementUtil.createElement(\"div\", {class: \"u-table-row u-table-body\"});\n            //If the rows are clickable I will set the row's click events listener\n            if (self._tableOptions.hasOwnProperty(\"onRowClick\") && typeof self._tableOptions.onRowClick === 'function') {\n                row.addEventListener(\"click\", function (event) {\n                    self._tableOptions.onRowClick(data, event);\n                });\n                row.setAttribute(\"class\", row.getAttribute(\"class\") + \" clickable\");\n            }\n            //I will render each column in the configuration\n            self._tableOptions.columns.forEach(function (column) {\n                var columnElement = DomElementUtil.createElement(\"div\", {class: \"u-table-cell\"});\n                var child = null;\n                //If is a custom column I render it else I set the simple text\n                if (typeof column.getCustomTemplate === \"function\") {\n                    child = column.getCustomTemplate(data);\n                } else {\n                    child = document.createTextNode(ObjectUtil.getValue(data, column.field));\n                }\n                var cellContentWrapperElement = DomElementUtil.createElement(\"div\", {class: \"u-table-cell-content-wrapper\"});\n                cellContentWrapperElement.appendChild(DomElementUtil.createElement(\"div\", {class: \"u-table-cell-label\"}, document.createTextNode(column.title)));\n                cellContentWrapperElement.appendChild(child);\n                columnElement.appendChild(cellContentWrapperElement);\n                row.appendChild(columnElement);\n            });\n            self._tableElement.appendChild(row);\n        });\n    };\n\n    this.render = function () {\n        this._tableElement = DomElementUtil.createElement(\"div\", {class: \"u-table\"});\n        this._parentElement.appendChild(this._tableElement);\n        this._renderHeader();\n        this._renderBody();\n    };\n\n    //On update I will save the data and render the new body\n    this.updateData = function (newData) {\n        self._data = newData;\n        this._renderBody();\n    };\n}\n\nmodule.exports = UTable;\n"],"sourceRoot":""}